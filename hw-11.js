import"./assets/styles-DD3qoKza.js";const u="46463630-3c03a0f5bb3e2a02ee15ce5e1",l=new SimpleLightbox(".gallery a#lightbox-link");document.querySelector("form#image-search").addEventListener("submit",async e=>{e.preventDefault();const t=e.target,r=t.elements.query.value;t.reset();const a=document.querySelector(".gallery");a.replaceChildren(S());const n=await p(r).catch(s=>{iziToast.error({message:"Sorry, couldn't load images. Please try again later!",position:"topRight"}),console.error(s),a.replaceChildren()});if(n.hits.length===0){iziToast.error({message:"Sorry, there are no images matching your search query. Please try again!",position:"topRight"}),a.replaceChildren();return}const c=n.hits.map(h).map(y).map(g);a.replaceChildren(...c),l.refresh()});const p=async e=>{const t=new URLSearchParams({key:u,q:e,image_type:"photo",orientation:"horizontal",safesearch:!0});return fetch(`https://pixabay.com/api/?${t}`).then(r=>r.json())},h=({webformatURL:e,largeImageURL:t,tags:r,likes:a,views:n,comments:c,downloads:s})=>({webformatURL:e,largeImageURL:t,tags:r,likes:a,views:n,comments:c,downloads:s}),y=({webformatURL:e,largeImageURL:t,tags:r,likes:a,views:n,comments:c,downloads:s})=>{const m=document.querySelector("template#card-template"),o=document.importNode(m.content,!0),d=o.querySelector("a#lightbox-link");d.href=t;const i=o.querySelector("img.card-img");return i.src=e,i.alt=r,i.title=r,o.querySelector('span.card-stats-item-count[data-item="likes"]').textContent=a,o.querySelector('span.card-stats-item-count[data-item="views"]').textContent=n,o.querySelector('span.card-stats-item-count[data-item="comments"]').textContent=c,o.querySelector('span.card-stats-item-count[data-item="downloads"]').textContent=s,o},g=e=>(e.querySelector("a#lightbox-link").addEventListener("click",t=>{t.preventDefault();const r=a=>{a.key==="Escape"&&(document.removeEventListener("keydown",r),l.close())};document.addEventListener("keydown",r),l.open(t.currentTarget)}),e),S=()=>Object.assign(document.createElement("div"),{className:"loader"});
//# sourceMappingURL=hw-11.js.map
