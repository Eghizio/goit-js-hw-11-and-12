import"./assets/styles-DD3qoKza.js";const p="46463630-3c03a0f5bb3e2a02ee15ce5e1",l=new SimpleLightbox(".gallery a#lightbox-link");document.querySelector("form#image-search").addEventListener("submit",async e=>{e.preventDefault();const t=e.target,r=t.elements.query.value;t.reset();const a=document.querySelector(".gallery");a.replaceChildren(S());try{const o=await u(r);if(o.hits.length===0){iziToast.error({message:"Sorry, there are no images matching your search query. Please try again!",position:"topRight"}),a.replaceChildren();return}const s=o.hits.map(h).map(y).map(g);a.replaceChildren(...s)}catch(o){iziToast.error({message:"Sorry, couldn't load images. Please try again later!",position:"topRight"}),console.error(o),a.replaceChildren()}finally{l.refresh()}});const u=async e=>{const t=new URLSearchParams({key:p,q:e,image_type:"photo",orientation:"horizontal",safesearch:!0});return(await axios.get("https://pixabay.com/api/",{params:t})).data},h=({webformatURL:e,largeImageURL:t,tags:r,likes:a,views:o,comments:s,downloads:c})=>({webformatURL:e,largeImageURL:t,tags:r,likes:a,views:o,comments:s,downloads:c}),y=({webformatURL:e,largeImageURL:t,tags:r,likes:a,views:o,comments:s,downloads:c})=>{const m=document.querySelector("template#card-template"),n=document.importNode(m.content,!0),d=n.querySelector("a#lightbox-link");d.href=t;const i=n.querySelector("img.card-img");return i.src=e,i.alt=r,i.title=r,n.querySelector('span.card-stats-item-count[data-item="likes"]').textContent=a,n.querySelector('span.card-stats-item-count[data-item="views"]').textContent=o,n.querySelector('span.card-stats-item-count[data-item="comments"]').textContent=s,n.querySelector('span.card-stats-item-count[data-item="downloads"]').textContent=c,n},g=e=>(e.querySelector("a#lightbox-link").addEventListener("click",t=>{t.preventDefault();const r=a=>{a.key==="Escape"&&(document.removeEventListener("keydown",r),l.close())};document.addEventListener("keydown",r),l.open(t.currentTarget)}),e),S=()=>Object.assign(document.createElement("div"),{className:"loader"});
//# sourceMappingURL=hw-12.js.map
