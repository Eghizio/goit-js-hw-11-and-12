import"./assets/styles-DD3qoKza.js";const d="46463630-3c03a0f5bb3e2a02ee15ce5e1",l=new SimpleLightbox(".gallery a#lightbox-link");document.querySelector("form#image-search").addEventListener("submit",async e=>{e.preventDefault();const t=e.target,r=t.elements.query.value;t.reset();const n={searchQuery:r,page:1},a=document.querySelector(".gallery");a.replaceChildren(S());try{const o=await y(n.searchQuery);if(o.hits.length===0){iziToast.error({message:"Sorry, there are no images matching your search query. Please try again!",position:"topRight"}),a.replaceChildren();return}const c=o.hits.map(h).map(g).map(q);a.replaceChildren(...c)}catch(o){iziToast.error({message:"Sorry, couldn't load images. Please try again later!",position:"topRight"}),console.error(o),a.replaceChildren()}finally{l.refresh()}});let u=1;const y=async e=>{const t=new URLSearchParams({key:d,q:e,image_type:"photo",orientation:"horizontal",safesearch:!0,page:u++,per_page:40});return(await axios.get("https://pixabay.com/api/",{params:t})).data},h=({webformatURL:e,largeImageURL:t,tags:r,likes:n,views:a,comments:o,downloads:c})=>({webformatURL:e,largeImageURL:t,tags:r,likes:n,views:a,comments:o,downloads:c}),g=({webformatURL:e,largeImageURL:t,tags:r,likes:n,views:a,comments:o,downloads:c})=>{const m=document.querySelector("template#card-template"),s=document.importNode(m.content,!0),p=s.querySelector("a#lightbox-link");p.href=t;const i=s.querySelector("img.card-img");return i.src=e,i.alt=r,i.title=r,s.querySelector('span.card-stats-item-count[data-item="likes"]').textContent=n,s.querySelector('span.card-stats-item-count[data-item="views"]').textContent=a,s.querySelector('span.card-stats-item-count[data-item="comments"]').textContent=o,s.querySelector('span.card-stats-item-count[data-item="downloads"]').textContent=c,s},q=e=>(e.querySelector("a#lightbox-link").addEventListener("click",t=>{t.preventDefault();const r=n=>{n.key==="Escape"&&(document.removeEventListener("keydown",r),l.close())};document.addEventListener("keydown",r),l.open(t.currentTarget)}),e),S=()=>Object.assign(document.createElement("div"),{className:"loader"});
//# sourceMappingURL=hw-12.js.map
